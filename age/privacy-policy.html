<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Security Awareness — Training Demo (Local & Safe)</title>
<meta name="description" content="Professional local-only phishing awareness demo. Explicit consent required. No network activity."/>
<style>
  :root{
    --bg:#071025; --card:#0b1522; --glass: rgba(255,255,255,0.03);
    --accent:#06b6d4; --accent2:#34d399; --muted:#9aa4b2;
    --radius:12px; --maxw:1200px; color-scheme: dark;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Helvetica Neue";
  }
  *{box-sizing:border-box}
  body{
    margin:0;min-height:100vh;
    background:
      radial-gradient(600px 360px at 10% 10%, rgba(6,182,212,0.06), transparent 10%),
      radial-gradient(500px 320px at 90% 90%, rgba(52,211,153,0.03), transparent 10%),
      var(--bg);
    color:#e6eef6;-webkit-font-smoothing:antialiased;display:flex;align-items:center;justify-content:center;padding:28px;
  }
  .site{width:100%;max-width:var(--maxw)}
  nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#042018}
  .nav-links{display:flex;gap:14px;align-items:center}
  .nav-links a{color:var(--muted);text-decoration:none;font-size:14px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px;padding:22px; box-shadow: 0 20px 60px rgba(2,6,23,0.7)}
  .hero{display:grid;grid-template-columns:1fr 420px;gap:18px;align-items:center}
  h1{margin:0 0 8px;font-size:30px}
  p.lead{margin:0;color:var(--muted);line-height:1.45}
  .features{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}
  .feat{background:var(--glass);padding:14px;border-radius:10px;color:var(--muted);font-size:14px}
  .download-card{background:linear-gradient(90deg, rgba(94,234,212,0.03), rgba(52,211,153,0.02));padding:16px;border-radius:12px}
  .btn{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#042018;padding:10px 14px;border-radius:10px;border:0;font-weight:700;cursor:pointer}
  .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:9px 12px;border-radius:8px}
  .muted{color:var(--muted);font-size:13px}
  .small{font-size:13px;padding:8px 10px}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.66);display:flex;align-items:center;justify-content:center;z-index:60}
  .modal{background:var(--card);padding:20px;border-radius:12px;max-width:820px;width:94%;box-shadow:0 20px 70px rgba(2,6,23,0.75)}
  input[type="text"], textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
  .note{font-size:13px;color:var(--muted);margin-top:8px}
  @media (max-width:900px){
    .hero{grid-template-columns:1fr}
    .features{grid-template-columns:repeat(2,1fr)}
  }
</style>
</head>
<body>
  <div class="site" role="main">
    <nav aria-label="Main navigation">
      <div class="brand">
        <div class="logo" aria-hidden="true">AW</div>
        <div>
          <div style="font-size:13px;color:var(--muted)">Awareness Works</div>
          <div style="font-weight:700">Training Demo</div>
        </div>
      </div>
      <div class="nav-links" aria-hidden="true">
        <a href="#features">Features</a>
        <a href="#download">Download Center</a>
        <a href="#privacy">Privacy Policy</a>
        <a href="#contact">Contact</a>
      </div>
    </nav>

    <div class="card" id="mainCard">
      <section class="hero" aria-labelledby="hero-title">
        <div>
          <h1 id="hero-title">Professional Phishing Awareness — Local Demo</h1>
          <p class="lead">This is a polished, safe training site for classroom exercises. Everything is local: <strong>no data is sent outside the user's browser</strong>. Participants must explicitly consent before downloads are enabled.</p>

          <div class="features" id="features" aria-hidden="false">
            <div class="feat"><strong>Consent-first flow</strong><div class="muted">Explicit consent required before any activity</div></div>
            <div class="feat"><strong>Download Center</strong><div class="muted">Harmless training files are generated locally</div></div>
            <div class="feat"><strong>Privacy & Receipt</strong><div class="muted">Clear policy, printable consent receipt</div></div>
            <div class="feat"><strong>Local logs</strong><div class="muted">Consent records saved in browser localStorage</div></div>
            <div class="feat"><strong>Exercise & Debrief</strong><div class="muted">Simulated exercise pages with explanation</div></div>
            <div class="feat"><strong>Export logs</strong><div class="muted">Organizer can download consent evidence</div></div>
          </div>

          <div style="margin-top:14px" class="muted">Tip for assignment: include screenshots of consent logs and the printed receipt as proof that the exercise was consent-based and safe.</div>
        </div>

        <aside>
          <div class="download-card" id="download" role="region" aria-labelledby="download-title">
            <h3 id="download-title">Download Center — (Consent required)</h3>
            <p class="muted">Download the training packet, checklist, and debrief. All files are created locally — <strong>no network</strong>.</p>

            <div style="margin-top:10px">
              <label style="display:flex;gap:8px;align-items:center">
                <input type="checkbox" id="consentCheckbox" /> <span class="muted">I have read the Privacy Policy and I consent to participate in this training (demo only)</span>
              </label>
            </div>

            <div class="grid2" style="margin-top:12px">
              <button id="btnDownloadPack" class="btn small" disabled>Download Training Pack</button>
              <button id="btnSavePolicy" class="btn-ghost small">Save Privacy Policy</button>
            </div>

            <div style="margin-top:10px" class="note">Organizer: after the session export the consent logs and store them with your training records.</div>
          </div>
        </aside>
      </section>

      <section style="margin-top:18px">
        <h3>What participants will experience</h3>
        <div class="muted">After consenting, participants may download harmless training files and optionally open a local exercise page that demonstrates a fake login UI (for UI/UX & awareness practice only). No real credentials are collected.</div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px">
          <div class="card" style="padding:12px">
            <strong>Exercise</strong>
            <div class="muted">A local simulated login UI with tips and checklist — practice spotting suspicious signs.</div>
          </div>
          <div class="card" style="padding:12px">
            <strong>Debrief</strong>
            <div class="muted">Immediate explanation of the exercise, learning points, and resources for further reading.</div>
          </div>
        </div>
      </section>

      <section style="margin-top:14px">
        <h3 id="privacy">Privacy Policy (short)</h3>
        <div class="muted">This demo stores only minimal consent records (timestamp, participant name optional, userAgent) in the user's browser (localStorage). No IPs, no external servers, and no credentials are collected.</div>
      </section>

      <section style="margin-top:14px;display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between">
        <div class="muted">Organizer: <strong id="orgNameLabel">[Your Organization]</strong> · Session: <strong id="sessionLabel">[Date / Time]</strong></div>

        <div style="display:flex;gap:8px">
          <button id="btnExportLogs" class="btn-ghost small">Export logs</button>
          <button id="btnOpenManager" class="btn small">Open Consent Manager</button>
        </div>
      </section>

      <footer>
        <div class="muted">Demo site — for teaching and assignments only. Always obtain written permission when running awareness tests with real users.</div>
      </footer>
    </div>
  </div>

  <!-- Consent Manager Modal -->
  <div id="consentModal" class="modal-backdrop" style="display:none" role="dialog" aria-modal="true" aria-labelledby="cmTitle">
    <div class="modal">
      <h2 id="cmTitle">Consent Manager</h2>
      <p class="muted">Record participant consent and optionally print a receipt. Consent records are saved locally and can be exported by the organizer.</p>

      <div style="margin-top:10px">
        <label class="muted">Participant name (optional)</label>
        <input id="participantInput" type="text" placeholder="Full name or alias (optional)"/>
      </div>

      <div style="margin-top:10px;display:flex;gap:8px;align-items:center">
        <button id="btnRecordConsent" class="btn">Record consent</button>
        <button id="btnCloseModal" class="btn-ghost">Close</button>
        <button id="btnPrintReceipt" class="btn-ghost">Print receipt</button>
      </div>

      <div style="margin-top:12px">
        <div class="muted">Local consent log preview:</div>
        <div id="logPreview" style="margin-top:8px;padding:10px;background:rgba(0,0,0,0.03);border-radius:8px;max-height:180px;overflow:auto;font-size:13px"></div>
      </div>
    </div>
  </div>

<script>
/*
  training_site_demo_english.html
  - SAFE demo only. No external network calls.
  - Consent-first: downloads disabled until user checks consent box or organizer records consent.
  - Downloads created locally using Blob API (harmless plain text / HTML files).
  - Consent logs saved in localStorage under key 'training_demo_consents'.
  - Organizer can export logs as JSON and print a receipt.
  - Customize ORG_NAME and SESSION constants below for your assignment.
*/

/* ===== Configuration (edit for assignment) ===== */
const ORG_NAME = 'Awesome Training Co.';
const SESSION_LABEL = 'September 24, 2025 — 10:00 AM';
const EXERCISE_PAGE = 'index.html'; // optional: local exercise page. keep local-only.
/* ============================================== */

document.getElementById('orgNameLabel').textContent = ORG_NAME;
document.getElementById('sessionLabel').textContent = SESSION_LABEL;

const consentCheckbox = document.getElementById('consentCheckbox');
const btnDownloadPack = document.getElementById('btnDownloadPack');
const btnSavePolicy = document.getElementById('btnSavePolicy');
const btnExportLogs = document.getElementById('btnExportLogs');
const btnOpenManager = document.getElementById('btnOpenManager');
const consentModal = document.getElementById('consentModal');
const btnCloseModal = document.getElementById('btnCloseModal');
const btnRecordConsent = document.getElementById('btnRecordConsent');
const participantInput = document.getElementById('participantInput');
const logPreview = document.getElementById('logPreview');
const btnPrintReceipt = document.getElementById('btnPrintReceipt');

/* Local storage helpers */
const LOG_KEY = 'training_demo_consents';
function loadConsents(){ try{ return JSON.parse(localStorage.getItem(LOG_KEY)||'[]'); }catch(e){return[]} }
function saveConsents(arr){ try{ localStorage.setItem(LOG_KEY, JSON.stringify(arr)); }catch(e){console.warn('save failed',e);} }
function pushConsent(rec){ const arr = loadConsents(); arr.push(rec); saveConsents(arr); renderLogPreview(); return rec; }
function renderLogPreview(){ const arr = loadConsents(); if(!arr.length){ logPreview.innerHTML = '<div class="muted">No consent records yet.</div>'; return; } logPreview.innerHTML = arr.slice().reverse().map(r=>`<div style="padding:8px;border-radius:8px;background:rgba(0,0,0,0.02);margin-bottom:8px"><strong>${escapeHtml(r.participant||'Anonymous')}</strong> · <span style="color:${'var(--muted)'}">${new Date(r.ts).toLocaleString()}</span><div style="font-size:13px;color:var(--muted);margin-top:6px">${escapeHtml(r.note||'consented')}</div></div>`).join(''); }
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
renderLogPreview();

/* Enable download when checkbox checked */
consentCheckbox.addEventListener('change', ()=> {
  btnDownloadPack.disabled = !consentCheckbox.checked;
});

/* Save privacy policy locally */
btnSavePolicy.addEventListener('click', ()=>{
  const policy = buildPrivacyPolicy();
  triggerDownload(new Blob([policy], {type:'text/html;charset=utf-8'}), 'PrivacyPolicy.html');
});

/* Export logs */
btnExportLogs.addEventListener('click', ()=>{
  const arr = loadConsents();
  const payload = {exportedAt: new Date().toISOString(), organiser: ORG_NAME, session: SESSION_LABEL, logs: arr};
  triggerDownload(new Blob([JSON.stringify(payload,null,2)], {type:'application/json'}), `consent_logs_${(new Date()).toISOString().slice(0,19).replace(/[:T]/g,'-')}.json`);
});

/* Open consent manager */
btnOpenManager.addEventListener('click', ()=> { consentModal.style.display = 'flex'; });
btnCloseModal.addEventListener('click', ()=> { consentModal.style.display = 'none'; });

/* Record consent in modal */
btnRecordConsent.addEventListener('click', ()=>{
  const name = participantInput.value ? participantInput.value.trim() : 'Anonymous';
  const rec = {ts: new Date().toISOString(), participant: name, note: 'consent recorded via manager', ua: navigator.userAgent};
  pushConsent(rec);
  alert('Consent recorded locally for: ' + name);
  participantInput.value = '';
  consentCheckbox.checked = true;
  btnDownloadPack.disabled = false;
  consentModal.style.display = 'none';
});

/* Print receipt for last consent or generic */
btnPrintReceipt.addEventListener('click', ()=>{
  const arr = loadConsents();
  const last = arr.length ? arr[arr.length-1] : {participant:'Anonymous', ts:new Date().toISOString()};
  const receiptHtml = `<div style="font-family:Arial,sans-serif;color:#042018;padding:20px">
    <h2>Consent Receipt — Security Awareness Training</h2>
    <div>Organizer: <strong>${escapeHtml(ORG_NAME)}</strong></div>
    <div>Session: <strong>${escapeHtml(SESSION_LABEL)}</strong></div>
    <div>Participant: <strong>${escapeHtml(last.participant||'Anonymous')}</strong></div>
    <div>Timestamp: <strong>${new Date(last.ts).toLocaleString()}</strong></div>
    <p>This confirms explicit participant consent for the local and harmless training exercise. No credentials or external data were collected.</p>
    <div style="margin-top:20px">Trainer signature: _________________________</div>
    </div>`;
  const w = window.open('', '_blank', 'noopener');
  if(!w){ alert('Popup blocked — allow popups to print receipt.'); return; }
  w.document.open();
  w.document.write(`<html><head><title>Consent Receipt</title></head><body>${receiptHtml}</body></html>`);
  w.document.close();
  setTimeout(()=> w.print(), 300);
});

/* Download training pack (multiple harmless files generated locally) */
btnDownloadPack.addEventListener('click', ()=>{
  if(!consentCheckbox.checked){ alert('Please check the consent box before downloading.'); return; }
  // record consent automatically at download time
  const rec = {ts:new Date().toISOString(), participant:'Anonymous', note:'downloaded training pack', ua: navigator.userAgent};
  pushConsent(rec);

  // Training packet (text)
  const trainingText = `Security Awareness — Training Pack (Demo)\n\nOrganizer: ${ORG_NAME}\nSession: ${SESSION_LABEL}\n\nContents:\n1) Exercise instructions\n2) Checklist\n3) Debrief and resources\n\n(THIS IS A HARMLESS DEMO FILE. No real credentials are requested.)\n\nGood luck and learn safely!`;
  triggerDownload(new Blob([trainingText], {type:'text/plain;charset=utf-8'}), 'Training_Packet.txt');

  // Checklist
  const checklist = `Training Checklist\n\n- Read instructions\n- Complete the local exercise\n- Review debrief and resources\n- Export consent logs for organizer records\n\n-- END --`;
  triggerDownload(new Blob([checklist], {type:'text/plain;charset=utf-8'}), 'Checklist.txt');

  // Debrief HTML
  const debrief = buildDebriefHtml();
  triggerDownload(new Blob([debrief], {type:'text/html;charset=utf-8'}), 'Debrief.html');

  // Optional: open local exercise page (if present)
  setTimeout(()=> {
    try{ window.open(EXERCISE_PAGE, '_self'); } catch(e){ /* ignore */ }
  }, 400);
});

/* ===== helpers ===== */
function triggerDownload(blob, filename){
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = filename; document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
}

function buildPrivacyPolicy(){
  return `<!doctype html><html><head><meta charset="utf-8"><title>Privacy Policy - Demo</title></head><body>
<h1>Privacy Policy — Training Demo</h1>
<p>This is a local-only training demo. The following practices apply:</p>
<ul>
<li>No personal data is sent to external servers.</li>
<li>Consent events are stored only in the participant's browser localStorage under key <code>training_demo_consents</code>.</li>
<li>Collected fields: timestamp, optional participant name, and userAgent string.</li>
<li>Organizer should export logs and keep written permission for the exercise.</li>
</ul>
<p>If you do not consent, do not check the consent box and do not download any files.</p>
</body></html>`;
}

function buildDebriefHtml(){
  return `<!doctype html><html><head><meta charset="utf-8"><title>Debrief</title></head><body>
  <h1>Debrief — Phishing Awareness Demo</h1>
  <p>Thank you for participating. This was a harmless demonstration intended to teach common phishing indicators and safe behaviour.</p>
  <ol>
    <li>Always verify sender addresses and full domain names.</li>
    <li>Check for HTTPS (and also correct certificate owner) on sensitive pages.</li>
    <li>Be cautious with links and attachments; hover to view target URLs.</li>
    <li>Use multi-factor authentication where available.</li>
  </ol>
  <p>For further reading: OWASP top 10, phishing awareness guides by major vendors, and internal security policies.</p>
  </body></html>`;
}

/* initial render */
renderLogPreview();

/* Safety reminder in console */
console.log('SAFE DEMO: No network calls, no credential collection. Use for consent-based exercises only.');
</script>
</body>
</html>
